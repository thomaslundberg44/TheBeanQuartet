<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=2.0">
	
	<title>The Bean Quartet - Base Data Table</title>
	<link rel="stylesheet" href="../jqwidgets/styles/jqx.base.css" type="text/css" />
<link rel="stylesheet" href="../jqwidgets/styles/jqx.classic.css" type="text/css" />
<script type="text/javascript" src="../scripts/jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="../jqwidgets/jqxcore.js"></script>
<script type="text/javascript" src="../jqwidgets/jqxbuttons.js"></script>
<script type="text/javascript" src="../jqwidgets/jqxscrollbar.js"></script>
<script type="text/javascript" src="../jqwidgets/jqxdata.js"></script>
<script type="text/javascript" src="../jqwidgets/jqxlistbox.js"></script>
<script type="text/javascript" src="../jqwidgets/jqxdropdownlist.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>

</head>
<title>Insert title here</title>
</head>
<body>



<div class="dropdown">
<h1>Select phone model: <select class="form-control" id="model"></select>
<form role="form" id="submit">
			<input type="submit" name="Val" class="ubmit" onClick="GetSelectedItem(imageTable)" value="SUBMIT">
</form></h1> <br>
          <a href="http://localhost:8080/TheBeanQuartet/rest/basedata/modelType" class="list-group-item">Link to Model type data JSON</a>
    <!--         <a href="http://localhost:8080/TheBeanQuartet/rest/basedata/modelSearch" class="list-group-item">Link to model search data JSON</a>
	   -->      
</div>
<div id="tableContainer">
<table align="center" id="imageTable" border="3"></table>

</div>


<script>
//get a reference to the select element
var $select = $('#model');
 
//request the JSON data and parse into the select element
$.ajax({
  url: 'http://localhost:8080/TheBeanQuartet/rest/basedata/modelType',
  dataType:'JSON',
  success:function(data){
    //clear the current content of the select
    $select.html('');
    //iterate over the data and append a select option
    $.each(data.baseDataCollection, function(i,val){
      $select.append('<option>' + val + '</option>');
    })
  }
});	

$("#submit").submit(
		function search() {
			var checkModel = document.getElementById("model").value;

			alert("The model selected is: "+checkModel);
			
			$.ajax({
				async:false,
				type : 'POST',
				url : 'rest/basedata/modelSearch',
				data : JSON.stringify(checkModel),
				success : function message(data) {
					alert(JSON.stringify(data));
					
				},
				contentType : 'application/json'
			});
						
		});



</script>

</body>
</html>